# 宏任务与微任务

## 运行机制

```
JS是单线程运行的, 所以同一时间只能执行一个任务

首先他会先执行完所有的同步任务

在执行同步任务的过程遇到宏任务就放到宏任务队列当中

遇到微任务就放到微任务队列当中

当执行完成所有的同步任务, 就执行所有的微任务, 再执行宏任务
```

## 宏任务(macro-task)

```
浏览器/Node都有: script, settimeout, setInterval, I/O

浏览器环境独有: requestAnimationFrame

Node环境独有: setImmediate
```

## 微任务(micro-task)

```
浏览器/Node都有: promise.then, promise.catch, promise.finally

浏览器环境独有: MutationObserver

Node环境独有: process.nextTick
```